EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:switches
LIBS:relays
LIBS:motors
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:ESP32-C3FN4
LIBS:USBLC6-2SC6
LIBS:sn65hvd233-ht
LIBS:lm2574n-5
LIBS:DRV8873HPWPR
LIBS:mcp9701at
LIBS:MCP9700T-E_LT
LIBS:ina180b
LIBS:mechanical
LIBS:esp32-c3-wroom-2
LIBS:gct_usb4105
LIBS:ESP32-C3-Booster-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 5 6
Title "Pocket Beagle DCC Command Station (SMD version)"
Date "2021-04-09"
Rev "A"
Comp "Deepwoods Software"
Comment1 "Operations DCC Driver"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 1050 2500 0    60   Input ~ 0
IN_B
Text HLabel 1050 2350 0    60   Input ~ 0
IN_A
Text HLabel 2500 2600 0    60   Input ~ 0
BRAKE
Text HLabel 6050 1550 2    60   Input ~ 0
PowerIn
Text HLabel 5100 2350 2    60   Output ~ 0
A
Text HLabel 5100 2750 2    60   Output ~ 0
B
Text HLabel 6050 1750 2    60   Output ~ 0
Sense_Pos
Text HLabel 6050 1950 2    60   Output ~ 0
Sense_Neg
$Comp
L GND #PWR034
U 1 1 630A7E57
P 5250 1800
F 0 "#PWR034" H 5250 1550 50  0001 C CNN
F 1 "GND" H 5250 1650 50  0000 C CNN
F 2 "" H 5250 1800 50  0001 C CNN
F 3 "" H 5250 1800 50  0001 C CNN
	1    5250 1800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 630A7E58
P 4250 3550
F 0 "#PWR035" H 4250 3300 50  0001 C CNN
F 1 "GND" H 4250 3400 50  0000 C CNN
F 2 "" H 4250 3550 50  0001 C CNN
F 3 "" H 4250 3550 50  0001 C CNN
	1    4250 3550
	1    0    0    -1  
$EndComp
$Comp
L R R504
U 1 1 630A7E59
P 5800 1550
F 0 "R504" V 5880 1550 50  0000 C CNN
F 1 "0.005 1%" V 5800 1550 50  0000 C CNN
F 2 "Resistors_SMD:R_0612" V 5730 1550 50  0001 C CNN
F 3 "" H 5800 1550 50  0001 C CNN
F 4 "71-WSKW0612L5000FEA" V 5800 1550 60  0001 C CNN "Mouser Part Number"
	1    5800 1550
	0    1    1    0   
$EndComp
Text Label 5650 2100 0    60   ~ 0
Local_VDD
$Comp
L C_Small C502
U 1 1 630A7E5A
P 5100 1950
F 0 "C502" H 5110 2020 50  0000 L CNN
F 1 "47 nf" H 5110 1870 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5100 1950 50  0001 C CNN
F 3 "" H 5100 1950 50  0001 C CNN
F 4 "963-GMK107BJ473KAHT" H 5100 1950 60  0001 C CNN "Mouser Part Number"
	1    5100 1950
	1    0    0    -1  
$EndComp
$Comp
L C_Small C503
U 1 1 630A7E5B
P 5250 2100
F 0 "C503" H 5260 2170 50  0000 L CNN
F 1 "1 uf" H 5260 2020 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5250 2100 50  0001 C CNN
F 3 "" H 5250 2100 50  0001 C CNN
F 4 "963-GMK107AB7105KAHT" H 5250 2100 60  0001 C CNN "Mouser Part Number"
	1    5250 2100
	0    1    1    0   
$EndComp
$Comp
L C C504
U 1 1 630A7E5C
P 5800 2450
F 0 "C504" H 5825 2550 50  0000 L CNN
F 1 "100 nf" H 5825 2350 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5838 2300 50  0001 C CNN
F 3 "" H 5800 2450 50  0001 C CNN
F 4 "603-CC603KPX7R9BB104" H 5800 2450 60  0001 C CNN "Mouser Part Number"
	1    5800 2450
	1    0    0    -1  
$EndComp
$Comp
L C C505
U 1 1 630A7E5D
P 6150 2450
F 0 "C505" H 6175 2550 50  0000 L CNN
F 1 "100 nf" H 6175 2350 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 6188 2300 50  0001 C CNN
F 3 "" H 6150 2450 50  0001 C CNN
F 4 "603-CC603KPX7R9BB104" H 6150 2450 60  0001 C CNN "Mouser Part Number"
	1    6150 2450
	1    0    0    -1  
$EndComp
$Comp
L CP1 C506
U 1 1 630A7E5E
P 6500 2450
F 0 "C506" H 6525 2550 50  0000 L CNN
F 1 "47 uf" H 6525 2350 50  0000 L CNN
F 2 "Capacitors_SMD:CP_Elec_6.3x5.3" H 6500 2450 50  0001 C CNN
F 3 "" H 6500 2450 50  0001 C CNN
F 4 "710-865080543009" H 6500 2450 60  0001 C CNN "Mouser Part Number"
	1    6500 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR036
U 1 1 630A7E5F
P 6150 2750
F 0 "#PWR036" H 6150 2500 50  0001 C CNN
F 1 "GND" H 6150 2600 50  0000 C CNN
F 2 "" H 6150 2750 50  0001 C CNN
F 3 "" H 6150 2750 50  0001 C CNN
	1    6150 2750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR037
U 1 1 630A7E60
P 5300 2550
F 0 "#PWR037" H 5300 2300 50  0001 C CNN
F 1 "GND" H 5300 2400 50  0000 C CNN
F 2 "" H 5300 2550 50  0001 C CNN
F 3 "" H 5300 2550 50  0001 C CNN
	1    5300 2550
	1    0    0    -1  
$EndComp
NoConn ~ 3550 2700
NoConn ~ 3550 2900
$Comp
L C C501
U 1 1 630A7E61
P 3000 2000
F 0 "C501" H 3025 2100 50  0000 L CNN
F 1 "1 uf" H 3025 1900 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 3038 1850 50  0001 C CNN
F 3 "" H 3000 2000 50  0001 C CNN
F 4 "963-GMK107AB7105KAHT" H 3000 2000 60  0001 C CNN "Mouser Part Number"
	1    3000 2000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR038
U 1 1 630A7E62
P 3000 2250
F 0 "#PWR038" H 3000 2000 50  0001 C CNN
F 1 "GND" H 3000 2100 50  0000 C CNN
F 2 "" H 3000 2250 50  0001 C CNN
F 3 "" H 3000 2250 50  0001 C CNN
	1    3000 2250
	1    0    0    -1  
$EndComp
$Comp
L R R503
U 1 1 630A7E63
P 3500 1450
F 0 "R503" V 3580 1450 50  0000 C CNN
F 1 "10K" V 3500 1450 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3430 1450 50  0001 C CNN
F 3 "" H 3500 1450 50  0001 C CNN
F 4 "279-CRGCQ0603F10K" V 3500 1450 60  0001 C CNN "Mouser Part Number"
	1    3500 1450
	1    0    0    -1  
$EndComp
$Comp
L R R502
U 1 1 630A7E64
P 3400 1450
F 0 "R502" V 3480 1450 50  0000 C CNN
F 1 "10K" V 3400 1450 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3330 1450 50  0001 C CNN
F 3 "" H 3400 1450 50  0001 C CNN
F 4 "279-CRGCQ0603F10K" V 3400 1450 60  0001 C CNN "Mouser Part Number"
	1    3400 1450
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR039
U 1 1 630A7E65
P 3400 1100
F 0 "#PWR039" H 3400 950 50  0001 C CNN
F 1 "+3.3V" H 3400 1240 50  0000 C CNN
F 2 "" H 3400 1100 50  0001 C CNN
F 3 "" H 3400 1100 50  0001 C CNN
	1    3400 1100
	1    0    0    -1  
$EndComp
$Comp
L R R501
U 1 1 630A7E66
P 2600 2150
F 0 "R501" V 2680 2150 50  0000 C CNN
F 1 "10K" V 2600 2150 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 2530 2150 50  0001 C CNN
F 3 "" H 2600 2150 50  0001 C CNN
F 4 "279-CRGCQ0603F10K " V 2600 2150 60  0001 C CNN "Mouser Part Number"
	1    2600 2150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR040
U 1 1 630A7E67
P 2600 2850
F 0 "#PWR040" H 2600 2600 50  0001 C CNN
F 1 "GND" H 2600 2700 50  0000 C CNN
F 2 "" H 2600 2850 50  0001 C CNN
F 3 "" H 2600 2850 50  0001 C CNN
	1    2600 2850
	1    0    0    -1  
$EndComp
$Comp
L TEST_1P TP503
U 1 1 630A7E68
P 3300 2750
F 0 "TP503" H 3300 3020 50  0000 C CNN
F 1 "BRAKE" H 3300 2950 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Big" H 3500 2750 50  0001 C CNN
F 3 "" H 3500 2750 50  0001 C CNN
	1    3300 2750
	-1   0    0    1   
$EndComp
$Comp
L TEST_1P TP502
U 1 1 630A7E69
P 1300 2700
F 0 "TP502" H 1300 2970 50  0000 C CNN
F 1 "IN_B" H 1300 2900 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Big" H 1500 2700 50  0001 C CNN
F 3 "" H 1500 2700 50  0001 C CNN
	1    1300 2700
	-1   0    0    1   
$EndComp
$Comp
L TEST_1P TP501
U 1 1 630A7E6A
P 1100 2700
F 0 "TP501" H 1100 2970 50  0000 C CNN
F 1 "IN_A" H 1100 2900 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Big" H 1300 2700 50  0001 C CNN
F 3 "" H 1300 2700 50  0001 C CNN
	1    1100 2700
	-1   0    0    1   
$EndComp
Wire Wire Line
	2450 2400 3550 2400
Wire Wire Line
	2500 2600 3550 2600
Wire Wire Line
	5100 2350 5000 2350
Wire Wire Line
	5000 2300 5000 2400
Wire Wire Line
	5000 2300 4950 2300
Wire Wire Line
	5000 2400 4950 2400
Connection ~ 5000 2350
Wire Wire Line
	5100 2750 5000 2750
Wire Wire Line
	5000 2700 5000 2800
Wire Wire Line
	5000 2700 4950 2700
Wire Wire Line
	5000 2800 4950 2800
Connection ~ 5000 2750
Wire Wire Line
	5650 2200 4950 2200
Wire Wire Line
	5550 2200 5550 2900
Wire Wire Line
	5550 2900 4950 2900
Wire Wire Line
	5250 1800 4950 1800
Wire Wire Line
	4250 3400 4250 3550
Wire Wire Line
	5950 1550 6050 1550
Wire Wire Line
	5650 1550 5650 2200
Connection ~ 5550 2200
Wire Wire Line
	6050 1750 6000 1750
Wire Wire Line
	6000 1750 6000 1550
Connection ~ 6000 1550
Wire Wire Line
	6050 1950 5650 1950
Connection ~ 5650 1950
Wire Wire Line
	5100 1850 4950 1850
Wire Wire Line
	4950 1850 4950 1900
Wire Wire Line
	5100 2050 4950 2050
Wire Wire Line
	4950 2050 4950 2000
Wire Wire Line
	5150 2100 4950 2100
Wire Wire Line
	5350 2100 5650 2100
Connection ~ 5650 2100
Wire Wire Line
	5550 2300 6500 2300
Connection ~ 6150 2300
Connection ~ 5550 2300
Connection ~ 5800 2300
Wire Wire Line
	5800 2600 6500 2600
Connection ~ 6150 2600
Wire Wire Line
	6150 2750 6150 2600
Wire Wire Line
	4950 2500 5050 2500
Wire Wire Line
	5050 2500 5050 2600
Wire Wire Line
	5050 2600 4950 2600
Wire Wire Line
	5300 2550 5050 2550
Connection ~ 5050 2550
Wire Wire Line
	3000 1800 3550 1800
Wire Wire Line
	3250 1800 3250 2300
Wire Wire Line
	3250 2300 3550 2300
Wire Wire Line
	3000 1800 3000 1850
Connection ~ 3250 1800
Wire Wire Line
	3000 2150 3000 2250
Wire Wire Line
	3500 1600 3500 1900
Wire Wire Line
	3500 1900 3550 1900
Wire Wire Line
	3400 1600 3400 2800
Wire Wire Line
	3400 2800 3550 2800
Wire Wire Line
	3400 1100 3400 1300
Wire Wire Line
	3500 1150 3500 1300
Wire Wire Line
	2450 1150 3500 1150
Connection ~ 3400 1150
Wire Wire Line
	3550 2000 2600 2000
Wire Wire Line
	2600 2300 2600 2850
Wire Wire Line
	3550 2100 3450 2100
Wire Wire Line
	3450 2100 3450 2200
Wire Wire Line
	3000 2200 3550 2200
Connection ~ 3000 2200
Connection ~ 3450 2200
Wire Wire Line
	3300 2750 3300 2600
Connection ~ 3300 2600
$Comp
L DRV8873HPWPR U501
U 1 1 630A7E56
P 3550 1800
F 0 "U501" H 4800 2100 50  0000 L CNN
F 1 "DRV8873HPWPR" H 4800 2000 50  0000 L CNN
F 2 "SOP65P640X120:SOP65P640X120-25N" H 4800 1900 50  0001 L CNN
F 3 "http://www.ti.com/lit/ds/symlink/drv8873.pdf" H 4800 1800 50  0001 L CNN
F 4 "Motor / Motion / Ignition Controllers & Drivers 10A H-Bridge Motor Driver with Integrated Current Sensing and Current Sense Output" H 4800 1700 50  0001 L CNN "Description"
F 5 "1.2" H 4800 1600 50  0001 L CNN "Height"
F 6 "595-DRV8873HPWPR" H 4800 1500 50  0001 L CNN "Mouser Part Number"
F 7 "https://www.mouser.co.uk/ProductDetail/Texas-Instruments/DRV8873HPWPR?qs=0lSvoLzn4L9%252BP4S8Gvwd%252BQ%3D%3D" H 4800 1400 50  0001 L CNN "Mouser Price/Stock"
F 8 "Texas Instruments" H 4800 1300 50  0001 L CNN "Manufacturer_Name"
F 9 "DRV8873HPWPR" H 4800 1200 50  0001 L CNN "Manufacturer_Part_Number"
	1    3550 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 2500 1300 2700
Wire Wire Line
	1100 2350 1100 2700
$Comp
L VO615A U502
U 1 1 630BFB12
P 1800 2400
F 0 "U502" H 1700 2200 50  0000 L CNN
F 1 "VO615A" H 1800 2600 50  0000 L CNN
F 2 "Housings_SOIC:SO-4_7.6x3.6mm_Pitch2.54mm" H 1600 2200 50  0001 L CIN
F 3 "" H 1800 2400 50  0001 L CNN
F 4 "78-VO615A-7X017T" H 1800 2400 60  0001 C CNN "Mouser Part Number"
	1    1800 2400
	1    0    0    -1  
$EndComp
$Comp
L R R507
U 1 1 630BFBF6
P 2450 2150
F 0 "R507" V 2530 2150 50  0000 C CNN
F 1 "10K" V 2450 2150 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 2380 2150 50  0001 C CNN
F 3 "" H 2450 2150 50  0001 C CNN
F 4 "279-CRGCQ0603F10K " V 2450 2150 60  0001 C CNN "Mouser Part Number"
	1    2450 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 2300 2450 2400
Wire Wire Line
	2450 2000 2450 1150
$Comp
L R R506
U 1 1 630BFE77
P 2300 2150
F 0 "R506" V 2380 2150 50  0000 C CNN
F 1 "10K" V 2300 2150 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 2230 2150 50  0001 C CNN
F 3 "" H 2300 2150 50  0001 C CNN
F 4 "279-CRGCQ0603F10K " V 2300 2150 60  0001 C CNN "Mouser Part Number"
	1    2300 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 2000 2450 2000
$Comp
L R R505
U 1 1 630C0001
P 1300 2300
F 0 "R505" V 1380 2300 50  0000 C CNN
F 1 "2.2K" V 1300 2300 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 1230 2300 50  0001 C CNN
F 3 "" H 1300 2300 50  0001 C CNN
F 4 "603-AC0603FR-072K2L" V 1300 2300 60  0001 C CNN "Mouser Part Number"
	1    1300 2300
	0    1    1    0   
$EndComp
Connection ~ 1300 2500
Connection ~ 1100 2350
Wire Wire Line
	2300 2300 2300 2500
$Comp
L GND #PWR041
U 1 1 630C0BE3
P 2125 2650
F 0 "#PWR041" H 2125 2400 50  0001 C CNN
F 1 "GND" H 2125 2500 50  0000 C CNN
F 2 "" H 2125 2650 50  0001 C CNN
F 3 "" H 2125 2650 50  0001 C CNN
	1    2125 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 2500 2100 2650
Wire Wire Line
	2100 2650 2125 2650
Wire Wire Line
	2100 2300 2175 2300
Wire Wire Line
	2175 2300 2175 2500
Wire Wire Line
	2175 2500 3550 2500
Connection ~ 2300 2500
Wire Wire Line
	1500 2300 1450 2300
Wire Wire Line
	1050 2350 1150 2350
Wire Wire Line
	1150 2350 1150 2300
Wire Wire Line
	1050 2500 1500 2500
$Comp
L D_Zener_Small D501
U 1 1 630E475C
P 1450 2400
F 0 "D501" H 1450 2490 50  0000 C CNN
F 1 "1.5v 10ma" H 1450 2310 50  0000 C CNN
F 2 "Diodes_SMD:D_SOD-323" V 1450 2400 50  0001 C CNN
F 3 "" V 1450 2400 50  0001 C CNN
F 4 "610-CMDZ1L8TR" H 1450 2400 60  0001 C CNN "Mouser Part Number"
	1    1450 2400
	0    1    1    0   
$EndComp
Connection ~ 1450 2500
$EndSCHEMATC
